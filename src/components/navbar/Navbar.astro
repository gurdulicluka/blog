---
import { Icon } from "astro-icon";
// components
import ThemeSwitchBtn from "./ThemeSwitchBtn.astro";
import MobileMenu from "./MobileMenu.astro";
import SearchBar from "../search/SearchBar.astro";
import Dropdown from "../navbar/Dropdown.astro";
import HamburgerBtn from "./HamburgerBtn.astro";
---

<header
  class="border-b border-base-200/30 shadow-md animate__animated bg-base-300 min-h-16 sticky top-0 w-full z-50">
  <nav
    x-data="{open : false}"
    class="2xl:container navbar justify-between md:px-4">
    <ul class="navbar-start hidden md:flex gap-2 [&>a]:capitalize">
      <li>
        <a href="/" class="btn btn-ghost capitalize">Home</a>
      </li>
      <li>
        <Dropdown />
      </li>
      <li>
        <a href="/contact" class="btn btn-ghost capitalize">Contact</a>
      </li>
    </ul>
    <div class="navbar-center">
      <a
        href="/"
        aria-label="Go to homepage"
        class="btn btn-ghost group transition-none">
        <Icon
          data-transition
          name="kodahead"
          height="20"
          class="group-hover:[&>path]:fill-accent outline-none [&>path]:transition-none"
        />
      </a>
    </div>
    <div class="navbar-end hidden md:flex items-center gap-3">
      <SearchBar />
      <ThemeSwitchBtn />
    </div>
    <!-- Mobile only -->
    <div x-trap.noscroll="open" class="navbar-end md:hidden items-center gap-3">
      <div
        x-cloak
        x-show="open"
        x-transition:enter="animate__zoomIn"
        x-transition:leave="animate__fadeOut"
        class="rounded-full animate__animated animate__faster">
        <a href="/" class="btn btn-circle btn-ghost">
          <Icon name="mi:home" height="28" />
        </a>
      </div>
      <div
        x-cloak
        x-show="open"
        x-transition:enter="animate__zoomIn"
        x-transition:leave="animate__fadeOut"
        class="rounded-full animate__animated animate__faster">
        <ThemeSwitchBtn />
      </div>
      <HamburgerBtn />
      <MobileMenu />
    </div>
    <!-- Mobile only end -->
  </nav>
</header>

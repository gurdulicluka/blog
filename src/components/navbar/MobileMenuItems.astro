---
import { getCollection } from "astro:content";
import { slugify } from "../../js/utils";

const allPosts = await getCollection("blog");
const uniqueCategories = [
  ...new Set(
    allPosts.map((post) => {
      return post.data.category;
    })
  ),
];
---

<!-- FIXME -->
<ul class="[&>*]:capitalize p-1 menu rounded-box gap-2">
  <li class="menu-title py-1">
    <span class="text-sm font-semibold">View by Category</span>
  </li>
  {
    uniqueCategories.map((category) => (
      <li class="bordered">
        <a href={`/category/${slugify(category)}`}>{category}</a>
      </li>
    ))
  }
  <li class="bordered">
    <a href="">Tailwind CSS</a>
  </li>
  <li class="bordered">
    <a href="">React</a>
  </li>
  <li class="bordered">
    <a href="">Javascript</a>
  </li>
  <li class="bordered">
    <a href="">Alpine</a>
  </li>
</ul>

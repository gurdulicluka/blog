---
import HamburgerBtn from "./HamburgerBtn.astro";
import MobileMenuItems from "./MobileMenuItems.astro";
---

<!-- OPEN SIDEBAR BUTTON -->
<div x-data="{open : false}" class="flex items-center sm:hidden">
  <HamburgerBtn />
  <!-- BACKDROP -->
  <div
    @click="open = !open"
    x-cloak
    x-trap.noscroll="open"
    x-show="open"
    x-transition:enter="animate__fadeIn"
    x-transition:leave="animate__fadeOut"
    class="fixed animate__animated bg-neutral-600/40 backdrop-blur-md z-40 top-[58px] inset-0"
  >
  </div>
  <!-- SIDEBAR -->
  <div
    x-cloak
    x-show="open"
    x-transition:enter="animate__slideInRight"
    x-transition:leave="animate__slideOutRight"
    aria-label="sidebar menu"
    class="fixed animate__animated overflow-y-scroll h-[calc(100vh-58px)] z-50 top-[58px] bg-base-300 border-t-2 w-[60vw] border-base-200 right-0"
  >
    <MobileMenuItems />
  </div>
</div>

<script>
  import Alpine from "alpinejs";
  import focus from "@alpinejs/focus";
  Alpine.plugin(focus);
</script>
